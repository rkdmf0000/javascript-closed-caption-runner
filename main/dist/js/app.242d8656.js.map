{"version":3,"file":"js/app.242d8656.js","mappings":"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","sources":["webpack://main/./node_modules/subsrt/lib/format/ sync ^\\.\\/.*\\.js$","webpack://main/./src/components/v1.vue","webpack://main/./src/components/v1.vue?a763","webpack://main/./src/App.vue?2a5e","webpack://main/./src/App.vue","webpack://main/./src/main.ts","webpack://main/webpack/bootstrap","webpack://main/webpack/runtime/chunk loaded","webpack://main/webpack/runtime/compat get default export","webpack://main/webpack/runtime/define property getters","webpack://main/webpack/runtime/global","webpack://main/webpack/runtime/hasOwnProperty shorthand","webpack://main/webpack/runtime/make namespace object","webpack://main/webpack/runtime/jsonp chunk loading","webpack://main/webpack/startup"],"sourcesContent":["var map = {\n\t\"./ass.js\": 8415,\n\t\"./json.js\": 6129,\n\t\"./lrc.js\": 5061,\n\t\"./sbv.js\": 3079,\n\t\"./smi.js\": 3088,\n\t\"./srt.js\": 4255,\n\t\"./ssa.js\": 8726,\n\t\"./sub.js\": 3944,\n\t\"./vtt.js\": 2661\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5281;","\n<script>\nimport { YoutubeVue3 } from 'youtube-vue3';\nimport { WebVTTParser } from 'webvtt-parser';\nimport subsrt from 'subsrt'\n\n//https://github.com/papnkukn/subsrt\n\n\n//smi example : https://raw.githubusercontent.com/rkdmf0000/javascript-closed-caption-runner/main/main/dist/test1.smi\n//싱크 : -316.5\n\n//srt exmaple : https://raw.githubusercontent.com/rkdmf0000/cc-collection/main/back%20number%20-%20%E6%B0%B4%E5%B9%B3%E7%B7%9A.srt\n//싱크 : 0\n\nexport default {\n\n    name: 'App',\n    data() {\n        const getParam = this.getQueryParams();\n        return {\n            window: window,\n            debug: (getParam[\"debug\"] == \"1\" ? true : false),\n            playingFlag: false,\n            video: { video_id: \"\", loop: 1 },\n            currentTime: 0,\n            timeCheck: 1000 / 30,\n            timer: undefined,\n            vtt: [],\n            currentCC: [],\n            timeSync: Number(getParam[\"cc_sync\"]) ?? 0,\n            ccEncoding: getParam[\"cc_encode\"] ?? \"utf-8\",\n            ccPath: getParam[\"cc_uri\"] ?? \"https://raw.githubusercontent.com/rkdmf0000/cc-collection/main/back%20number%20-%20%E6%B0%B4%E5%B9%B3%E7%B7%9A.srt\"\n        }\n    },\n    mounted() {\n        this.video.video_id = location.hash.substring(1, 99);\n        this.video.loop = 1;\n\n\n        this.getRequest(this.ccPath)\n            .then(response => {\n\n                const vtt = subsrt.convert(response, { format: \"vtt\", fps: 25 });\n                const captions = this.parseSmiFile(vtt);\n                this.vtt = captions;\n\n            })\n            .catch(error => {\n                console.error(error);\n            });\n\n\n\n    },\n    components: {\n        YoutubeVue3,\n    },\n    methods: {\n\n        getCaptionsInRange(captions, timeline) {\n\n            return captions.filter((caption) => {\n                return caption.start <= timeline && caption.end >= timeline;\n            });\n        },\n\n        getRequest(url) {\n            return new Promise((resolve, reject) => {\n                const xhr = new XMLHttpRequest();\n\n                xhr.overrideMimeType(` text/plain; charset=${this.ccEncoding}`); // Content-Type을 UTF-8로 설정\n\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === XMLHttpRequest.DONE) {\n                        if (this.status >= 200 && this.status < 300) {\n                            resolve(xhr.responseText);\n                        } else {\n                            reject(new Error(`Request failed with status code: ${xhr.status}`));\n                        }\n                    }\n                };\n\n                xhr.open('GET', url, true);\n                xhr.send();\n            });\n        },\n\n\n        parseSmiFile(smiContent) {\n            const parser = new WebVTTParser();\n\n            // Parse the SMI content into WebVTT format\n            const tree = parser.parse(smiContent);\n\n            // Extract the captions from the WebVTT format\n            const captions = tree.cues.map((cue) => ({\n                start: cue.startTime + this.timeSync, // Convert to milliseconds\n                end: cue.endTime + this.timeSync, // Convert to milliseconds\n                text: cue.text,\n            }));\n\n            return captions;\n        },\n\n\n\n\n        // SMI 파일을 VTT 파일로 변환하는 함수\n        smiToVtt(smiContent) {\n            // SMI 파일의 자막 데이터 부분 추출\n            const syncRegex = /<sync start=(\\d+)><p[^>]*>(.*?)<\\/p>/g;\n            let match;\n            let vttContent = \"WEBVTT\\n\\n\"; // VTT 파일의 시작 부분\n            while ((match = syncRegex.exec(smiContent)) !== null) {\n                const start = this.convertMillisecondsToVttTime(match[1]);\n                const text = match[2].replace(/(<br>)+/gi, \"\\n\"); // <br> 태그를 개행 문자로 변환\n                const end = this.convertMillisecondsToVttTime(parseInt(match[1], 10) + text.length * 100); // VTT는 종료 시간을 지정해야 함\n                vttContent += `${start} --> ${end}\\n${text}\\n\\n`;\n            }\n            return vttContent;\n        },\n\n        // 밀리초 단위를 VTT 시간 형식으로 변환하는 함수\n        convertMillisecondsToVttTime(milliseconds) {\n            const hours = Math.floor(milliseconds / (60 * 60 * 1000));\n            const minutes = Math.floor(milliseconds / (60 * 1000)) % 60;\n            const seconds = Math.floor(milliseconds / 1000) % 60;\n            const ms = (milliseconds % 1000).toString().padStart(3, \"0\");\n            return `${hours.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}.${ms}`;\n        },\n\n\n\n\n\n        startTimer() {\n            this.timer = setInterval(() => {\n                this.timerAction();\n            }, this.timeCheck);\n        },\n        stopTimer() {\n            clearTimeout(this.timer);\n        },\n\n        async timerAction() {\n            const sec = await this.$refs.youtube.player.getCurrentTime();\n            this.currentTime = sec;\n\n            this.currentCC = [];\n            if (this.vtt.length != 0) {\n                const arr = this.getCaptionsInRange(this.vtt, this.currentTime);\n                if (arr.length != 0) {\n                    arr.map((buffer) => {\n                        // console.log(buffer.text);\n                        this.currentCC.push(buffer.text);\n                    })\n                }\n            }\n\n\n        },\n        getQueryParams() {\n            const queryParams = {};\n            const searchParams = new URLSearchParams(location.search);\n\n            for (let [param, value] of searchParams.entries()) {\n                if (queryParams[param]) {\n                    if (Array.isArray(queryParams[param])) {\n                        queryParams[param].push(value);\n                    } else {\n                        queryParams[param] = [queryParams[param], value];\n                    }\n                } else {\n                    queryParams[param] = value;\n                }\n            }\n\n            return queryParams;\n        },\n        convertTimeToSeconds(timeStr) {\n            const timeArr = timeStr.split(':').map(parseFloat);\n            const hours = timeArr[0] * 3600;\n            const minutes = timeArr[1] * 60;\n            const seconds = timeArr[2] + (timeArr[3] / 1000);\n            const totalSeconds = hours + minutes + seconds;\n            return parseFloat(totalSeconds.toFixed(5));\n        },\n\n        //wlTMXFbPfKw\n        applyConfig() {\n            this.video = {\n                loop: 0,\n                video_id: \"iqEr3P78fz8\"\n            }\n        },\n        playCurrentVideo() {\n\n            this.$refs.youtube.player.playVideo();\n        },\n        stopCurrentVideo() {\n            this.$refs.youtube.player.stopVideo();\n        },\n        pauseCurrentVideo() {\n            this.$refs.youtube.player.pauseVideo();\n        },\n        onPlayed() {\n            console.log(\"## OnPlayed\")\n            this.startTimer();\n            this.playingFlag = true;\n        },\n        onEnded() {\n            console.log(\"## OnEnded\")\n            this.stopTimer();\n            this.playingFlag = false;\n        },\n        onPaused() {\n            console.log(\"## OnPaused\")\n            this.stopTimer();\n            this.playingFlag = false;\n        },\n\n    },\n}\n</script>\n\n\n<template>\n    <YoutubeVue3 style=\"z-index:1; position:fixed;top:0;bottom:0;left:0;right:0;\" ref=\"youtube\" :controls=\"1\"\n        :videoid=\"video.video_id\" :loop=\"video.loop\" :width=\"window.innerWidth\" :height=\"window.innerHeight\"\n        @ended=\"onEnded\" @paused=\"onPaused\" @played=\"onPlayed\" />\n\n\n    <div v-if=\"debug\"\n        style=\"z-index:1;position:fixed;top:0;left:0;background-color:#fafafa;border-top:1px solid #ddd;padding:8px 16px;\">\n        <div>\n            디버그 모드 : {{ debug }}\n        </div>\n\n        <div>\n            <!--youtube.player.getCurrentTime()-->\n            <label>재생 시간</label>\n            <div>\n                ({{ convertMillisecondsToVttTime(currentTime * 1000) }})\n            </div>\n        </div>\n\n        <br />\n        <hr />\n\n        <div>\n\n            비디오 상태 : {{ video }}<br />\n            갱신 주기 : {{ timeCheck }}<br />\n            타이머 아이디 : {{ timer }}<br />\n            타임 싱크 : {{ timeSync }}<br />\n            자막 경로 : {{ ccPath }}<br />\n            자막 인코딩 : {{ ccEncoding }}<br />\n        </div>\n\n        <div>\n            실시간 자막 :\n            {{ currentCC }}\n        </div>\n\n        <button @click=\"applyConfig\">적용</button>\n        <button @click=\"playCurrentVideo\">재생</button>\n        <button @click=\"stopCurrentVideo\">중지</button>\n        <button @click=\"pauseCurrentVideo\">정지</button>\n\n    </div>\n\n    <div v-if=\"playingFlag\" style=\"z-index:2;position:fixed;bottom:10%;left:0;right:0;\">\n        <div style=\"position:absolute;bottom:0;left:0;font-size: 16px;left: 50%;transform: translateX(-50%);\"\n            class=\"ccarea\">\n            <div v-for=\"(buffer, index) in currentCC\" :key=\"index\">\n                <p style=\"background: rgb(0 0 0 / 69%);color:#fafafa;\" v-html=\"buffer\"></p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style>\n* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    position: relative;\n}\n\n.ccarea {\n    display: block;\n    text-align: center;\n}\n\n.ccarea * {\n    display: block;\n}\n</style>","import { render } from \"./v1.vue?vue&type=template&id=0b273312\"\nimport script from \"./v1.vue?vue&type=script&lang=js\"\nexport * from \"./v1.vue?vue&type=script&lang=js\"\n\nimport \"./v1.vue?vue&type=style&index=0&id=0b273312&lang=css\"\n\nimport exportComponent from \"/workspaces/javascript-closed-caption-runner/main/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport frame from './components/v1.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(frame))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=3edd1828&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmain\"] = self[\"webpackChunkmain\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9910); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","style","_createElementVNode","class","_createVNode","_component_YoutubeVue3","ref","controls","videoid","$data","video","video_id","loop","width","window","innerWidth","height","innerHeight","onEnded","$options","onPaused","onPlayed","debug","_createElementBlock","_hoisted_1","_toDisplayString","_hoisted_2","convertMillisecondsToVttTime","currentTime","_hoisted_3","_hoisted_4","_hoisted_5","timeCheck","_hoisted_6","timer","_hoisted_7","timeSync","_hoisted_8","ccPath","_hoisted_9","ccEncoding","_hoisted_10","currentCC","onClick","_cache","args","applyConfig","playCurrentVideo","stopCurrentVideo","pauseCurrentVideo","playingFlag","_hoisted_11","_hoisted_12","_Fragment","_renderList","buffer","index","key","innerHTML","name","data","getParam","this","getQueryParams","undefined","vtt","Number","mounted","location","hash","substring","getRequest","then","response","subsrt","format","fps","captions","parseSmiFile","catch","error","console","components","YoutubeVue3","methods","getCaptionsInRange","timeline","filter","caption","start","end","url","Promise","reject","xhr","XMLHttpRequest","overrideMimeType","onreadystatechange","readyState","DONE","status","responseText","open","send","smiContent","parser","WebVTTParser","tree","parse","cues","cue","startTime","endTime","text","smiToVtt","syncRegex","match","vttContent","exec","replace","parseInt","length","milliseconds","hours","Math","floor","minutes","seconds","ms","toString","padStart","startTimer","setInterval","timerAction","stopTimer","clearTimeout","async","sec","$refs","youtube","player","getCurrentTime","arr","push","queryParams","searchParams","URLSearchParams","search","param","value","entries","Array","isArray","convertTimeToSeconds","timeStr","timeArr","split","parseFloat","totalSeconds","toFixed","playVideo","stopVideo","pauseVideo","log","__exports__","render","_defineComponent","__name","setup","__props","_ctx","_openBlock","_createBlock","frame","createApp","App","mount","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}